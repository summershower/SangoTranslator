"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[766],{71191:function(U,C,e){var u=e(46686),d=e.n(u),D=e(93236),a=e(2773);C.Z=function(){var O=(0,D.useState)([]),y=d()(O,2),h=y[0],l=y[1];return(0,D.useEffect)(function(){(0,a.zK)().then(function(){(0,a.pJ)().then(function(i){var _=Array.isArray(i)?i.filter(function(c){return(c==null?void 0:c.js)||(c==null?void 0:c.json)}).sort(function(c,t){return t.time-c.time}):[];_.length&&l(_)})})},[]),h}},58946:function(U,C,e){var u=e(93236);C.Z=function(){(0,u.useEffect)(function(){var d=document.querySelector(".ant-pro-layout-content");return d==null||d.classList.add("noPadding"),function(){d==null||d.classList.remove("noPadding")}},[])}},88016:function(U,C,e){e.r(C),e.d(C,{default:function(){return ve}});var u=e(35290),d=e.n(u),D=e(411),a=e.n(D),O=e(46686),y=e.n(O),h={topBar:"topBar___WHK87",history:"history___rGRZC",flex:"flex___hDv7x",path:"path___NgfFx",url:"url___SVCxC",time:"time___WZWHh",empty:"empty___fWB_2",diffBox:"diffBox___hqGf4"},l=e(93236),i=e(45480),_=e(54422),c=e(49256),t=e(54323),o=e(78692),n=e(57907),r=e(71191),S=e(44140),z=function(){return(0,S.request)("https://gapi.meiqijiacheng.com/configure/getSTS?objectName=web",{method:"GET"})},oe=e(21156);function se(){return K.apply(this,arguments)}function K(){return K=a()(d()().mark(function W(){var B,g,x,F,b,N,Z;return d()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,z();case 2:return B=P.sent,g=B.data,x=g.aLiYunHost,F=g.accessKeyId,b=g.accessKeySecret,N=g.bucketName,Z=g.securityToken,P.abrupt("return",new oe({region:x.replace(".aliyuncs.com",""),accessKeyId:F,accessKeySecret:b,stsToken:Z,bucket:N}));case 6:case"end":return P.stop()}},W)})),K.apply(this,arguments)}var ue=e(2534),Y=e(58024),ae=e(58946),le=e(74637),V=e.n(le),ie=e(68655),de=e.n(ie),ce=e(54498);V().extend(ce).locale(de());var w=V(),fe=e(66397),m=e(62086),me=function(){var B,g=(0,r.Z)();(0,ae.Z)();var x=(0,l.useState)(""),F=y()(x,2),b=F[0],N=F[1],Z=(0,l.useState)(""),J=y()(Z,2),P=J[0],he=J[1],_e=(0,l.useState)(!1),Q=y()(_e,2),ge=Q[0],X=Q[1],pe=(0,l.useState)(null),q=y()(pe,2),p=q[0],ee=q[1];function ne(){return k.apply(this,arguments)}function k(){return k=a()(d()().mark(function v(){var j,s,I,A,E,T,R,L,M=arguments;return d()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(j=M.length>0&&M[0]!==void 0?M[0]:"",s=g.find(function($){return $.sheetId===b}),s){f.next=4;break}return f.abrupt("return");case 4:I=(s==null?void 0:s.js)||(s==null?void 0:s.json)||"",A=s.sheetName,E=ue.ym(A,A,j,I),T=document.querySelector("#diffBox"),R={drawFileList:!1,fileListToggle:!1,fileListStartVisible:!1,fileContentToggle:!1,stickyFileHeaders:!1,matching:"lines",outputFormat:"side-by-side",renderNothingWhenEmpty:!0},L=new window.Diff2HtmlUI(T,E,R),L.draw();case 11:case"end":return f.stop()}},v)})),k.apply(this,arguments)}function te(){return G.apply(this,arguments)}function G(){return G=a()(d()().mark(function v(){var j,s,I;return d()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(s=(j=(0,Y.tL)())===null||j===void 0?void 0:j.find(function(T){return(T==null?void 0:T.sheetId)===b}),!s){E.next=11;break}return i.ZP.open({type:"loading",content:"\u8BFB\u53D6\u4E91\u7AEF\u6587\u4EF6\u4E2D...",duration:0}),ee(s),E.next=6,(0,S.request)(s.url);case 6:I=E.sent,i.ZP.destroy(),ne(s.formatMode==="JS"?I:JSON.stringify(I,null,2)),E.next=13;break;case 11:ee(null),ne();case 13:case"end":return E.stop()}},v)})),G.apply(this,arguments)}(0,l.useEffect)(function(){g!=null&&g[0]&&N(g[0].sheetId)},[g]),(0,l.useEffect)(function(){te()},[b]);function ye(v){N(v)}function Se(){return H.apply(this,arguments)}function H(){return H=a()(d()().mark(function v(){var j,s,I,A,E,T,R,L,M;return d()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(!P&&!p)){f.next=2;break}return f.abrupt("return",_.Z.error({message:"\u8BF7\u8F93\u5165\u63A8\u9001\u8DEF\u5F84"}));case 2:return f.prev=2,X(!0),i.ZP.open({type:"loading",content:"\u4E0A\u4F20\u4E2D...",duration:0}),s=g.find(function($){return $.sheetId===b}),I=(s==null?void 0:s.js)||(s==null?void 0:s.json),A=new Blob([I],{type:"text/".concat(s!=null&&s.js?"javascript":"json")}),f.next=10,se();case 10:return E=f.sent,T=/(?<=sango-frankfurt.oss-accelerate.aliyuncs.com\/web\/test\/langTest\/).+(?=\/)/gi,R=p!=null&&p.url?(j=p.url.match(T))===null||j===void 0?void 0:j[0]:P.trim(),f.next=15,E.put("/web/test/langTest/".concat(R,"/lang.").concat(s!=null&&s.js?"js":"json"),A);case 15:L=f.sent,M=L.url,(0,Y.sI)({url:M,modifyTime:+new Date,sheetId:b,formatMode:s!=null&&s.js?"JS":"JSON"}),_.Z.success({message:"\u63A8\u9001\u6210\u529F"}),X(!1),te(),i.ZP.destroy(),f.next=27;break;case 24:f.prev=24,f.t0=f.catch(2),_.Z.error({message:String(f.t0)});case 27:case"end":return f.stop()}},v,null,[[2,24]])})),H.apply(this,arguments)}function je(v){he(v.target.value)}function Ee(){(0,fe.JG)((p==null?void 0:p.url)||"")}function re(v){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return v?"".concat(j?"\u4E0A\u4F20":"\u4FEE\u6539","\u65F6\u95F4\uFF1A")+w(v).format("YYYY-MM-DD HH:mm:ss")+"("+w(v).fromNow()+")"+(j&&p?"":" (\u76F8\u5BF9\u4E8E\u4E91\u7AEF: "+w(v).from(p.modifyTime)+")"):""}return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:h.topBar,children:[(0,m.jsxs)(c.Z,{align:"end",size:"large",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{children:"\u9009\u62E9\u5DE5\u4F5C\u8868\uFF1A"}),(0,m.jsx)(t.Z,{defaultValue:b,style:{width:200},onChange:ye,options:g.map(function(v){return{value:v.sheetId,label:v.sheetName}})},b)]}),p?(0,m.jsxs)("div",{className:h.url,onClick:Ee,children:["\u6587\u4EF6\u8DEF\u5F84: ",p==null?void 0:p.url]}):(0,m.jsxs)("div",{className:h.path,children:[(0,m.jsx)("span",{children:"\u63A8\u9001\u8DEF\u5F84:"}),(0,m.jsx)(o.Z,{placeholder:"\u8F93\u5165OSS\u76EE\u5F55\u540D(\u5EFA\u8BAE\u9A7C\u5CF0\u547D\u540D)",style:{width:"300px"},onChange:je})]}),(0,m.jsx)("div",{className:h.upload,children:(0,m.jsx)(n.Z,{type:"primary",onClick:Se,disabled:ge,children:"\u63A8\u9001\u4E91\u7AEF"})})]}),(0,m.jsx)("div",{className:h.history,children:p?(0,m.jsxs)("div",{className:h.time,children:[(0,m.jsx)("span",{children:re((g==null||(B=g.find(function(v){return v.sheetId===b}))===null||B===void 0?void 0:B.time)||0)}),(0,m.jsx)("span",{children:re(p==null?void 0:p.modifyTime,!0)})]}):"\u8BE5\u5DE5\u4F5C\u8868\u4E3A\u521D\u6B21\u63A8\u9001\uFF0C\u8BF7\u6307\u5B9A\u63A8\u9001\u8DEF\u5F84(\u6BCF\u4E2A\u5DE5\u4F5C\u8868\u53EA\u80FD\u586B\u5199\u4E00\u6B21\uFF0C\u4E00\u7ECF\u786E\u8BA4\u5C06\u65E0\u6CD5\u66F4\u6539)"})]}),(0,m.jsxs)("div",{className:h.diff,children:[(0,m.jsx)("div",{className:h.empty,children:"\u6682\u5B58\u6587\u6863\u4E0E\u4E91\u7AEF\u5BF9\u6BD4\u6CA1\u6709\u53D8\u5316\u3002"}),(0,m.jsx)("div",{id:"diffBox",className:h.diffBox})]})]})},ve=me},66397:function(U,C,e){e.d(C,{Bl:function(){return y},JG:function(){return d},SV:function(){return O},UZ:function(){return h},_v:function(){return D}});var u=e(45480);function d(l){try{var i=document.createElement("textarea");i.value=l,document.body.appendChild(i),i.setAttribute("readonly","readonly"),i.setSelectionRange(0,i.value.length),i.select(),document.execCommand("Copy"),document.body.removeChild(i),u.ZP.success("\u590D\u5236\u6210\u529F")}catch{u.ZP.error("\u590D\u5236\u5931\u8D25")}}function D(l){return new Promise(function(i){setTimeout(function(){i(!0)},l||1e3)})}function a(l,i,_){try{var c=document.createElement("a");c.href=URL.createObjectURL(new Blob([l],{type:"text/".concat(i)})),c.setAttribute("download","lang.".concat(_)),document.body.appendChild(c),c.click(),document.body.removeChild(c),u.ZP.success("\u5DF2\u5F00\u59CB\u4E0B\u8F7D")}catch(t){console.log(t),u.ZP.error("\u8F6C\u6362\u5931\u8D25")}}function O(l){a(l,"json","json")}function y(l){a(l,"javascript","js")}function h(l){return new Promise(function(i,_){try{var c=function(){try{document.body.appendChild(t),setTimeout(function(){window.iframeGetObjectErrorHandler("\u83B7\u53D6\u4EE3\u7801\u8D85\u65F6\uFF0C\u8BF7\u6253\u5F00\u63A7\u5236\u53F0\u67E5\u770B\u4EE3\u7801\u9519\u8BEF")},3e3)}catch(S){_(S)}},t=document.createElement("script"),o=l+`\rtry {
        const res = {
          zh:{},
          en:{},
          ar:{},
          ur:{},
          tr:{},
        }
        const keys = Object.keys(lang_en);
        keys.forEach(key => {
          res['en'][key] = lang_en[key] || '';
          res['zh'][key] = lang_zh[key] || '';
          res['ar'][key] = lang_ar[key] || '';
          res['ur'][key] = lang_ur[key] || '';
          res['tr'][key] = lang_tr[key] || '';
        })
        window.iframeGetObject(res);
       } catch(err) {
        window.iframeGetObjectErrorHandler(err);
       }
        `;t.innerHTML=o,t.type="module";var n=document.createElement("iframe");n.style.position="absolute",n.style.zIndex="-1",n.style.top="-9999px",n.style.width="1px",n.style.height="1px",n.onload=c,n.onerror=function(r){_(r)},window.iframeGetObjectErrorHandler=function(r){_(r)},window.iframeGetObject=function(r){i(r),document.body.removeChild(n)},document.body.appendChild(n)}catch(r){_(r)}})}},2773:function(U,C,e){e.d(C,{Pj:function(){return l},ij:function(){return h},pJ:function(){return _},yH:function(){return c},zK:function(){return O}});var u="sheet",d="SangoTranslator",D=1,a;function O(){return new Promise(function(t,o){var n=window.indexedDB.open(d,D);n.onupgradeneeded=function(r){var S;a=r==null||(S=r.target)===null||S===void 0?void 0:S.result,a.objectStoreNames.contains(u)||a.createObjectStore(u)},n.onsuccess=function(r){var S;a=r==null||(S=r.target)===null||S===void 0?void 0:S.result,t(!0),console.log("DB\u8FDE\u63A5\u6210\u529F")},n.onerror=function(r){o(!1),console.log(r,"DB\u8FDE\u63A5\u5931\u8D25")}})}function y(t){var o=a.transaction(u,"readwrite").objectStore(u).add(t,"main");o.onsuccess=function(){console.log("\u5199\u5165",o.result)},o.onerror=function(n){console.log(n,"\u5199\u5165\u5931\u8D25")}}function h(){return new Promise(function(t){var o=a.transaction(u).objectStore(u).get("main");o.onsuccess=function(n){var r;t(n==null||(r=n.target)===null||r===void 0?void 0:r.result)}})}function l(t){var o=a.transaction(u,"readwrite").objectStore(u).put(t,"main");o.onsuccess=function(){console.log("\u4FEE\u6539\u6210\u529F",o.result)},o.onerror=function(n){console.log(n,"\u4FEE\u6539\u5931\u8D25")}}function i(t){var o=a.transaction(u,"readwrite").objectStore(u).delete(t);o.onsuccess=function(){console.log("\u5220\u9664\u6210\u529F",o.result)},o.onerror=function(n){console.log(n,"\u5220\u9664\u5931\u8D25")}}function _(){return new Promise(function(t){var o=a.transaction(u).objectStore(u).getAll();o.onsuccess=function(n){var r;t(n==null||(r=n.target)===null||r===void 0?void 0:r.result)}})}function c(t){var o=a.transaction(u,"readwrite").objectStore(u).put(t,t.sheetId);o.onsuccess=function(){console.log("\u50A8\u5B58\u6587\u4EF6\u6210\u529F",o.result)},o.onerror=function(n){console.log(n,"\u50A8\u5B58\u6587\u4EF6\u5931\u8D25")}}},58024:function(U,C,e){e.d(C,{W3:function(){return l},gT:function(){return i},sI:function(){return _},tL:function(){return c}});var u=e(94434),d=e.n(u),D=e(93275),a=e.n(D),O=e(30279),y=e.n(O),h={UILang:"TR",prefix:"",keyMode:"WORD",formatMode:"JS"};function l(t,o,n){try{var r=localStorage.getItem(t),S=r?y()(y()({},JSON.parse(r)),{},a()({},o,n)):y()(y()({},h),{},a()({},o,n));localStorage.setItem(t,JSON.stringify(S))}catch{}}function i(t,o){try{var n=localStorage.getItem(t),r=n?JSON.parse(n):h;return r[o]}catch{}}function _(t){try{var o=localStorage.getItem("cloudSheet"),n=o?[t].concat(d()(JSON.parse(o).filter(function(r){return r.sheetId!==t.sheetId}))):[t];localStorage.setItem("cloudSheet",JSON.stringify(n))}catch{}}function c(){try{var t=localStorage.getItem("cloudSheet"),o=t?JSON.parse(t):[];return o}catch{return[]}}}}]);
